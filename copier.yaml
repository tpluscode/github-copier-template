_subdirectory: src
_templates_suffix: .jinja

_envops:
  block_end_string: "%}"
  block_start_string: "{%"
  comment_end_string: "#}"
  comment_start_string: "{#"
  keep_trailing_newline: true
  variable_end_string: "}}"
  variable_start_string: "{{"

_tasks:
  - "{% if changesets %}npx {% if node_version > 14 %}-y{% endif %} add-dependencies --dev changesets{% endif %}"
  - '{% if changesets %}npx {% if node_version > 14 %}-y{% endif %} npm-add-script -k release -v "changeset publish" -f{% endif %}'

node_version:
  type: int
  help: Major node version
  default: 14

changesets:
  type: bool
  default: true

main_branch:
  type: str
  when: "{{changesets}}"
  default: main

package_manager:
  type: str
  when: "{{changesets}}"
  choices:
    npm: "NPM"
    yarn: "Yarn"
