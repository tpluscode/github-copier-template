_subdirectory: src
_templates_suffix: .jinja

_envops:
  block_end_string: "%}"
  block_start_string: "{%"
  comment_end_string: "#}"
  comment_start_string: "{#"
  keep_trailing_newline: true
  variable_end_string: "}}"
  variable_start_string: "{{"

_tasks:
  - "{% if changesets %}npx add-dependencies --dev @changesets/cli{% endif %}"
  - '{% if release_with_changesets %}npx npm-add-script -k release -v "changeset publish" -f{% endif %}'
  - "{% if package_manager == 'yarn' %}yarn{% else %}npm install{% endif %}"

node_version:
  type: int
  help: Major node version
  default: 14

changesets:
  type: bool
  default: true

main_branch:
  type: str
  when: "{{changesets}}"
  default: main

release_with_changesets:
  type: bool
  when: "{{changesets}}"
  default: false

package_manager:
  type: str
  when: "{{changesets}}"
  choices:
    NPM: npm
    Yarn: yarn
